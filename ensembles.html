<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ensembles - Jean-David Waeber | Organiste & Chef de Chœur</title>
    <meta name="description" content="Découvrez les ensembles musicaux dirigés par Jean-David Waeber : Maîtrise cathédrale de Sion, Chœur Oracantat, collaborations et projets musicaux.">
    <meta name="keywords" content="ensembles, chœur, maîtrise, Oracantat, direction chorale, collaborations musicales, Jean-David Waeber, Sion">
    <meta name="author" content="Jean-David Waeber">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://jdwaeber.ch/ensembles.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Ensembles - Jean-David Waeber | Organiste & Chef de Chœur">
    <meta property="og:description" content="Découvrez les ensembles musicaux dirigés par Jean-David Waeber et ses collaborations artistiques.">
    <meta property="og:url" content="https://jdwaeber.ch/ensembles.html">
    <meta property="og:image" content="https://jdwaeber.ch/images/og-image.jpg">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Ensembles - Jean-David Waeber | Organiste & Chef de Chœur">
    <meta name="twitter:description" content="Découvrez les ensembles musicaux dirigés par Jean-David Waeber et ses collaborations artistiques.">
    <meta name="twitter:image" content="https://jdwaeber.ch/images/og-image.jpg">
    
    <!-- Performance Critical Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <!-- Font Loading Strategy -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@400;500;600&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@400;500;600&display=swap"></noscript>
    
    <!-- Font Fallback for better CLS -->
    <style>
        @font-face {
            font-family: 'InterFallback';
            src: local('Arial'), local('Helvetica');
            font-display: swap;
        }
        @font-face {
            font-family: 'PlayfairFallback';
            src: local('Times New Roman'), local('serif');
            font-display: swap;
        }
    </style>
    
    <!-- Icons -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"></noscript>
    
    <style>
        /**
         * ===============================================
         * DESIGN SYSTEM LUXURY - JEAN-DAVID WAEBER
         * Ensembles Page - Performance Optimized
         * ===============================================
         */

        /* === DESIGN TOKENS === */
        :root {
            /* Brand Colors */
            --brand-primary: #d4af37;
            --brand-primary-light: #e6c757;
            --brand-primary-dark: #b8941f;
            --brand-primary-alpha: rgba(212, 175, 55, 0.1);
            
            /* Neutral Scale */
            --neutral-50: #fafafa;
            --neutral-100: #f5f5f5;
            --neutral-200: #e5e5e5;
            --neutral-300: #d4d4d4;
            --neutral-400: #a3a3a3;
            --neutral-500: #737373;
            --neutral-600: #525252;
            --neutral-700: #404040;
            --neutral-800: #262626;
            --neutral-900: #171717;
            --neutral-950: #0a0a0a;
            
            /* Semantic Colors */
            --text-primary: var(--neutral-50);
            --text-secondary: var(--neutral-200);
            --text-muted: var(--neutral-400);
            --text-inverse: var(--neutral-950);
            
            /* Background System */
            --bg-primary: var(--neutral-950);
            --bg-secondary: var(--neutral-900);
            --bg-tertiary: var(--neutral-800);
            --bg-elevated: var(--neutral-700);
            --bg-overlay: rgba(10, 10, 10, 0.9);
            --bg-glass: rgba(255, 255, 255, 0.05);
            
            /* Border System */
            --border-subtle: var(--neutral-800);
            --border-default: var(--neutral-700);
            --border-strong: var(--neutral-600);
            --border-brand: var(--brand-primary);
            
            /* Typography System */
            --font-sans: 'Inter', 'InterFallback', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            --font-serif: 'Playfair Display', 'PlayfairFallback', Georgia, 'Times New Roman', Times, serif;
            
            /* Fluid Type Scale */
            --text-xs: clamp(0.75rem, 0.7rem + 0.2vw, 0.8rem);
            --text-sm: clamp(0.875rem, 0.8rem + 0.3vw, 0.9rem);
            --text-base: clamp(1rem, 0.9rem + 0.4vw, 1.1rem);
            --text-lg: clamp(1.125rem, 1rem + 0.5vw, 1.25rem);
            --text-xl: clamp(1.25rem, 1.1rem + 0.6vw, 1.5rem);
            --text-2xl: clamp(1.5rem, 1.3rem + 0.8vw, 2rem);
            --text-3xl: clamp(2rem, 1.7rem + 1.2vw, 2.5rem);
            --text-4xl: clamp(2.5rem, 2rem + 2vw, 4rem);
            
            /* Spacing Scale */
            --space-px: 1px;
            --space-0: 0;
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --space-20: 5rem;
            --space-24: 6rem;
            
            /* Shadow System */
            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.12);
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.16);
            --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.24);
            --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.28);
            --shadow-brand: 0 4px 12px rgba(212, 175, 55, 0.15);
            
            /* Animation System */
            --duration-instant: 0ms;
            --duration-fast: 150ms;
            --duration-normal: 250ms;
            --duration-slow: 400ms;
            --duration-slower: 600ms;
            
            --ease-linear: linear;
            --ease-in: cubic-bezier(0.4, 0, 1, 1);
            --ease-out: cubic-bezier(0, 0, 0.2, 1);
            --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
            --ease-back: cubic-bezier(0.34, 1.56, 0.64, 1);
            
            /* Radius System */
            --radius-none: 0;
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
            --radius-full: 9999px;
            
            /* Z-index Scale */
            --z-hide: -1;
            --z-base: 0;
            --z-docked: 10;
            --z-dropdown: 1000;
            --z-sticky: 1100;
            --z-banner: 1200;
            --z-overlay: 1300;
            --z-modal: 1400;
            --z-popover: 1500;
            --z-skipLink: 1600;
            --z-toast: 1700;
            --z-tooltip: 1800;
        }

        /* === RESET & BASE === */
        *, *::before, *::after {
            box-sizing: border-box;
        }

        * {
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: var(--space-20);
            -webkit-text-size-adjust: 100%;
            tab-size: 4;
        }

        body {
            font-family: var(--font-sans);
            font-size: var(--text-base);
            line-height: 1.6;
            color: var(--text-primary);
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
            font-feature-settings: 'kern' 1;
        }

        /* Enhanced Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--brand-primary);
            border-radius: var(--radius-full);
            transition: background var(--duration-fast) var(--ease-out);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--brand-primary-light);
        }

        ::selection {
            background: var(--brand-primary);
            color: var(--text-inverse);
        }

        :focus {
            outline: none;
        }

        :focus-visible {
            outline: 2px solid var(--brand-primary);
            outline-offset: 2px;
            border-radius: var(--radius-sm);
        }

        /* === SKIP LINKS === */
        .skip-links {
            position: fixed;
            top: var(--space-4);
            left: var(--space-4);
            z-index: var(--z-skipLink);
        }

        .skip-link {
            position: absolute;
            transform: translateY(-100%);
            background: var(--brand-primary);
            color: var(--text-inverse);
            padding: var(--space-3) var(--space-6);
            text-decoration: none;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: var(--text-sm);
            transition: transform var(--duration-fast) var(--ease-out);
            white-space: nowrap;
        }

        .skip-link:focus {
            transform: translateY(0);
        }

        /* === NAVIGATION === */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: var(--bg-overlay);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            z-index: var(--z-sticky);
            padding: var(--space-4) 0;
            border-bottom: 1px solid var(--border-subtle);
            transition: all var(--duration-normal) var(--ease-out);
            will-change: background-color, padding;
        }

        .navbar.scrolled {
            background: var(--bg-overlay);
            box-shadow: var(--shadow-md);
            padding: var(--space-3) 0;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-6);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: var(--font-serif);
            font-size: var(--text-xl);
            font-weight: 700;
            color: var(--text-primary);
            text-decoration: none;
            transition: color var(--duration-fast) var(--ease-out);
        }

        .logo:hover,
        .logo:focus-visible {
            color: var(--brand-primary);
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: var(--space-6);
            align-items: center;
        }

        .nav-menu a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            font-size: var(--text-sm);
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-md);
            transition: all var(--duration-fast) var(--ease-out);
            position: relative;
        }

        .nav-menu a::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--bg-glass);
            border-radius: var(--radius-md);
            opacity: 0;
            transition: opacity var(--duration-fast) var(--ease-out);
        }

        .nav-menu a:hover::before,
        .nav-menu a:focus-visible::before {
            opacity: 1;
        }

        .nav-menu a:hover,
        .nav-menu a:focus-visible,
        .nav-menu a.active {
            color: var(--brand-primary);
        }

        .nav-menu a.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            background: var(--brand-primary);
            border-radius: 50%;
        }

        .nav-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: var(--text-lg);
            cursor: pointer;
            padding: var(--space-2);
            border-radius: var(--radius-md);
            transition: all var(--duration-fast) var(--ease-out);
            position: relative;
            z-index: var(--z-popover);
        }

        .nav-toggle:hover,
        .nav-toggle:focus-visible {
            color: var(--brand-primary);
            background: var(--bg-glass);
        }

        /* === MAIN CONTENT === */
        main {
            padding-top: var(--space-20);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-6);
        }

        .section {
            padding: var(--space-20) 0;
            position: relative;
        }

        .section-alt {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-subtle);
            border-bottom: 1px solid var(--border-subtle);
        }

        .section-header {
            text-align: center;
            margin-bottom: var(--space-16);
        }

        .section-title {
            font-family: var(--font-serif);
            font-size: var(--text-3xl);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--space-4);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: calc(-1 * var(--space-2));
            left: 50%;
            transform: translateX(-50%);
            width: var(--space-12);
            height: 2px;
            background: var(--brand-primary);
            border-radius: var(--radius-full);
        }

        .section-subtitle {
            font-size: var(--text-lg);
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.5;
        }

        /* === ENSEMBLE CARDS === */
        .ensembles-grid {
            display: grid;
            gap: var(--space-12);
            margin-top: var(--space-16);
        }

        .ensemble-card {
            background: var(--bg-tertiary);
            border-radius: var(--radius-2xl);
            border: 1px solid var(--border-subtle);
            overflow: hidden;
            transition: all var(--duration-normal) var(--ease-out);
            position: relative;
        }

        .ensemble-card:hover {
            border-color: var(--border-brand);
            box-shadow: var(--shadow-lg);
            transform: translateY(-4px);
        }

        .ensemble-featured {
            background: linear-gradient(135deg, var(--brand-primary-alpha), var(--bg-tertiary));
            border-color: var(--brand-primary);
        }

        .ensemble-featured::before {
            content: 'Principal';
            position: absolute;
            top: var(--space-4);
            right: var(--space-4);
            background: var(--brand-primary);
            color: var(--text-inverse);
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            z-index: var(--z-docked);
        }

        .ensemble-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            align-items: center;
            gap: var(--space-12);
            padding: var(--space-12);
        }

        .ensemble-info h3 {
            font-family: var(--font-serif);
            font-size: var(--text-2xl);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--space-4);
        }

        .ensemble-category {
            font-size: var(--text-sm);
            color: var(--brand-primary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: var(--space-3);
        }

        .ensemble-description {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: var(--space-6);
        }

        .ensemble-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }

        .ensemble-stat {
            text-align: center;
            padding: var(--space-3);
            background: var(--bg-glass);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-subtle);
        }

        .ensemble-stat-number {
            font-family: var(--font-serif);
            font-size: var(--text-xl);
            font-weight: 700;
            color: var(--brand-primary);
            display: block;
        }

        .ensemble-stat-label {
            font-size: var(--text-xs);
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: var(--space-1);
        }

        .ensemble-links {
            display: flex;
            gap: var(--space-3);
            flex-wrap: wrap;
        }

        .ensemble-link {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-4);
            background: var(--bg-glass);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-full);
            color: var(--text-secondary);
            text-decoration: none;
            font-size: var(--text-sm);
            font-weight: 500;
            transition: all var(--duration-fast) var(--ease-out);
        }

        .ensemble-link:hover {
            background: var(--brand-primary);
            color: var(--text-inverse);
            border-color: var(--brand-primary);
        }

        .ensemble-image {
            aspect-ratio: 4/3;
            background: var(--bg-secondary);
            border-radius: var(--radius-xl);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-style: italic;
        }

        .ensemble-image::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(45deg, var(--brand-primary-alpha), transparent);
            opacity: 0;
            transition: opacity var(--duration-normal) var(--ease-out);
        }

        .ensemble-card:hover .ensemble-image::before {
            opacity: 1;
        }

        /* === COLLABORATIONS GRID === */
        .collaborations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-8);
            margin-top: var(--space-16);
        }

        .collaboration-card {
            background: var(--bg-glass);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-xl);
            padding: var(--space-8);
            text-align: center;
            transition: all var(--duration-normal) var(--ease-out);
            position: relative;
            overflow: hidden;
        }

        .collaboration-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--brand-primary);
            transform: scaleX(0);
            transition: transform var(--duration-normal) var(--ease-out);
        }

        .collaboration-card:hover {
            transform: translateY(-4px);
            border-color: var(--border-brand);
            box-shadow: var(--shadow-lg);
        }

        .collaboration-card:hover::before {
            transform: scaleX(1);
        }

        .collaboration-logo {
            width: 80px;
            height: 80px;
            background: var(--bg-tertiary);
            border-radius: 50%;
            margin: 0 auto var(--space-4);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-2xl);
            color: var(--brand-primary);
        }

        .collaboration-name {
            font-family: var(--font-serif);
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .collaboration-type {
            font-size: var(--text-sm);
            color: var(--brand-primary);
            font-weight: 500;
            margin-bottom: var(--space-3);
        }

        .collaboration-description {
            color: var(--text-secondary);
            font-size: var(--text-sm);
            line-height: 1.6;
        }

        /* === PROJECTS TIMELINE === */
        .projects-timeline {
            position: relative;
            margin-top: var(--space-16);
        }

        .projects-timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--border-subtle);
            transform: translateX(-50%);
        }

        .timeline-item {
            position: relative;
            margin-bottom: var(--space-12);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-8);
            align-items: center;
        }

        .timeline-item:nth-child(even) .timeline-content {
            order: 2;
        }

        .timeline-item:nth-child(even) .timeline-image {
            order: 1;
        }

        .timeline-marker {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 16px;
            height: 16px;
            background: var(--brand-primary);
            border: 4px solid var(--bg-primary);
            border-radius: 50%;
            z-index: var(--z-docked);
        }

        .timeline-content {
            background: var(--bg-tertiary);
            padding: var(--space-8);
            border-radius: var(--radius-xl);
            border: 1px solid var(--border-subtle);
        }

        .timeline-date {
            font-size: var(--text-sm);
            color: var(--brand-primary);
            font-weight: 600;
            margin-bottom: var(--space-2);
        }

        .timeline-title {
            font-family: var(--font-serif);
            font-size: var(--text-xl);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-3);
        }

        .timeline-description {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .timeline-image {
            aspect-ratio: 16/10;
            background: var(--bg-secondary);
            border-radius: var(--radius-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-style: italic;
        }

        /* === FOOTER === */
        .footer {
            background: var(--bg-secondary);
            padding: var(--space-20) 0 var(--space-8);
            border-top: 1px solid var(--border-subtle);
        }

        .footer-bottom {
            text-align: center;
            color: var(--text-muted);
            font-size: var(--text-sm);
        }

        .footer-bottom a {
            color: var(--brand-primary);
            text-decoration: none;
            transition: color var(--duration-fast) var(--ease-out);
        }

        .footer-bottom a:hover {
            color: var(--brand-primary-light);
        }

        /* === ANIMATIONS === */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: all var(--duration-slower) var(--ease-out);
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .slide-in-left {
            opacity: 0;
            transform: translateX(-30px);
            transition: all var(--duration-slower) var(--ease-out);
        }

        .slide-in-left.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .slide-in-right {
            opacity: 0;
            transform: translateX(30px);
            transition: all var(--duration-slower) var(--ease-out);
        }

        .slide-in-right.visible {
            opacity: 1;
            transform: translateX(0);
        }

        /* === RESPONSIVE === */
        @media (max-width: 768px) {
            .nav-menu {
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: var(--bg-overlay);
                backdrop-filter: blur(16px);
                flex-direction: column;
                gap: 0;
                padding: var(--space-6) 0;
                box-shadow: var(--shadow-xl);
                border-top: 1px solid var(--border-subtle);
                transform: translateY(-10px);
                opacity: 0;
                visibility: hidden;
                transition: all var(--duration-normal) var(--ease-out);
            }
            
            .nav-menu.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }
            
            .nav-menu a {
                padding: var(--space-4) var(--space-6);
                border-bottom: 1px solid var(--border-subtle);
                text-align: center;
                width: 100%;
            }

            .nav-menu a:last-child {
                border-bottom: none;
            }
            
            .nav-toggle {
                display: block;
            }

            .ensemble-content {
                grid-template-columns: 1fr;
                gap: var(--space-8);
                padding: var(--space-8);
            }

            .ensemble-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .collaborations-grid {
                grid-template-columns: 1fr;
                gap: var(--space-6);
            }

            .projects-timeline::before {
                left: var(--space-4);
            }

            .timeline-item {
                grid-template-columns: 1fr;
                padding-left: var(--space-12);
            }

            .timeline-item:nth-child(even) .timeline-content {
                order: 1;
            }

            .timeline-item:nth-child(even) .timeline-image {
                order: 2;
            }

            .timeline-marker {
                left: var(--space-4);
            }

            .container {
                padding: 0 var(--space-4);
            }

            .nav-container {
                padding: 0 var(--space-4);
            }

            .section {
                padding: var(--space-16) 0;
            }
        }

        @media (max-width: 480px) {
            .ensemble-content {
                padding: var(--space-6);
            }

            .collaboration-card {
                padding: var(--space-6);
            }

            .timeline-content {
                padding: var(--space-6);
            }

            .ensemble-stats {
                grid-template-columns: 1fr;
            }
        }

        /* === ACCESSIBILITY === */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }

            .fade-in,
            .slide-in-left,
            .slide-in-right {
                opacity: 1 !important;
                transform: none !important;
            }
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .text-balance {
            text-wrap: balance;
        }

        .text-pretty {
            text-wrap: pretty;
        }
    </style>
    <!-- Design System -->
    <link rel="stylesheet" href="assets/css/tokens.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <link rel="stylesheet" href="assets/css/global.css">
    <link rel="stylesheet" href="assets/css/visual-enhancements.css">
</head>

<body data-page="ensembles">
        <!-- Skip Link pour accessibilité -->
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>
    
    <!-- Navigation principale -->
    <nav class="nav" role="navigation" aria-label="Navigation principale">
        <div class="nav-container">
            <a href="index.html" class="nav-logo" aria-label="Jean-David Waeber - Retour à l'accueil">
                Jean-David Waeber
            </a>
            
            <button class="nav-toggle" id="nav-toggle" aria-label="Ouvrir le menu" aria-expanded="false">
                <span class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
            </button>
            
            <ul class="nav-menu" role="menubar" id="nav-menu">
                <li role="none">
                    <a href="index.html" class="nav-link" role="menuitem" data-page="accueil">Accueil</a>
                </li>
                <li role="none">
                    <a href="events.html" class="nav-link" role="menuitem" data-page="agenda">Agenda</a>
                </li>
                <li role="none">
                    <a href="gallery.html" class="nav-link" role="menuitem" data-page="galerie">Galerie</a>
                </li>
                <li role="none">
                    <a href="about.html" class="nav-link" role="menuitem" data-page="biographie">Biographie</a>
                </li>
                <li role="none">
                    <a href="ensembles.html" class="nav-link" role="menuitem" data-page="ensembles">Ensembles</a>
                </li>
                <li role="none">
                    <a href="reflection.html" class="nav-link" role="menuitem" data-page="reflexion">Réflexion</a>
                </li>
                <li role="none">
                    <a href="media.html" class="nav-link" role="menuitem" data-page="media">Média</a>
                </li>
                <li role="none">
                    <a href="repertoire.html" class="nav-link" role="menuitem" data-page="repertoire">Répertoire</a>
                </li>
                <li role="none">
                    <a href="contact.html" class="nav-link" role="menuitem" data-page="contact">Contact</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content" role="main">
        <!-- Header/Hero unifié -->
        <header class="page-header" role="banner">
            <img 
                class="page-header-background" 
                src="images/optimized-final/ensembles-trio.jpg"
                alt="Ensemble musical en répétition"
                loading="lazy"
            >
            <div class="page-header-overlay" aria-hidden="true"></div>
            <div class="page-header-content">
                <h1 class="page-header-title">Ensembles</h1>
                <p class="page-header-subtitle">Formations dirigées et projets collaboratifs</p>
            </div>
        </header>
        <!-- Ensembles Header Section -->
        <section class="section fade-up-element" id="ensembles" aria-labelledby="ensembles-title">
            <div class="container">
                <header class="section-header">
                    <h1 class="section-title text-balance" id="ensembles-title">Ensembles</h1>
                    <p class="section-subtitle text-pretty">
                        Découvrez les formations musicales que je dirige et les collaborations artistiques qui enrichissent ma pratique musicale.
                    </p>
                </header>

                <!-- Main Ensembles -->
                <div class="ensembles-grid">
                    <!-- Maîtrise Cathédrale -->
                    <article class="ensemble-card ensemble-featured fade-in">
                        <div class="ensemble-content">
                            <div class="ensemble-info slide-in-left">
                                <div class="ensemble-category">Ensemble Principal</div>
                                <h3>Maîtrise Cathédrale de Sion</h3>
                                <p class="ensemble-description">
                                    La Maîtrise cathédrale de Sion perpétue une tradition musicale séculaire. 
                                    Composée de jeunes chanteurs formés à l'École maîtrisienne, elle assure 
                                    la liturgie cathédralice et présente un répertoire allant du chant grégorien 
                                    aux créations contemporaines.
                                </p>
                                
                                <div class="ensemble-stats">
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">24</span>
                                        <span class="ensemble-stat-label">Choristes</span>
                                    </div>
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">15</span>
                                        <span class="ensemble-stat-label">Années</span>
                                    </div>
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">120+</span>
                                        <span class="ensemble-stat-label">Concerts</span>
                                    </div>
                                </div>

                                <div class="ensemble-links">
                                    <a href="#" class="ensemble-link">
                                        <i class="fas fa-music" aria-hidden="true"></i>
                                        <span>Écouter</span>
                                    </a>
                                    <a href="#" class="ensemble-link">
                                        <i class="fas fa-calendar" aria-hidden="true"></i>
                                        <span>Prochains concerts</span>
                                    </a>
                                    <a href="#" class="ensemble-link">
                                        <i class="fas fa-users" aria-hidden="true"></i>
                                        <span>Auditions</span>
                                    </a>
                                </div>
                            </div>
                            <div class="ensemble-image slide-in-right">
                                <img src="images/optimized/maitrise-concert-1000.jpg" 
                                     alt="Maîtrise cathédrale de Sion en concert" 
                                     style="width: 100%; height: 100%; object-fit: cover; border-radius: var(--radius-xl);" 
                                     loading="lazy">
                            </div>
                        </div>
                    </article>

                    <!-- Ensemble Ardito -->
                    <article class="ensemble-card fade-in">
                        <div class="ensemble-content">
                            <div class="ensemble-info slide-in-left">
                                <div class="ensemble-category">Musique Ancienne</div>
                                <h3>Ensemble Ardito</h3>
                                <p class="ensemble-description">
                                    Ensemble spécialisé en musique baroque et renaissance. Ardito explore 
                                    le répertoire historique avec des instruments d'époque et une approche 
                                    authentique, réunissant musiciens et chanteurs passionnés par la 
                                    découverte et l'interprétation historiquement informée.
                                </p>
                                
                                <div class="ensemble-stats">
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">8</span>
                                        <span class="ensemble-stat-label">Musiciens</span>
                                    </div>
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">2</span>
                                        <span class="ensemble-stat-label">Années</span>
                                    </div>
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">12+</span>
                                        <span class="ensemble-stat-label">Concerts</span>
                                    </div>
                                </div>

                                <div class="ensemble-links">
                                    <a href="gallery.html" class="ensemble-link">
                                        <i class="fas fa-camera" aria-hidden="true"></i>
                                        <span>Galerie</span>
                                    </a>
                                    <a href="repertoire.html" class="ensemble-link">
                                        <i class="fas fa-music" aria-hidden="true"></i>
                                        <span>Répertoire baroque</span>
                                    </a>
                                </div>
                            </div>
                            <div class="ensemble-image slide-in-right">
                                <img src="images/optimized/ardito-concert-1-1000.jpg" 
                                     alt="Ensemble Ardito en concert" 
                                     style="width: 100%; height: 100%; object-fit: cover; border-radius: var(--radius-xl);" 
                                     loading="lazy">
                            </div>
                        </div>
                    </article>

                    <!-- École Maîtrisienne -->
                    <article class="ensemble-card fade-in">
                        <div class="ensemble-content">
                            <div class="ensemble-info slide-in-left">
                                <div class="ensemble-category">Formation</div>
                                <h3>École Maîtrisienne</h3>
                                <p class="ensemble-description">
                                    Centre de formation musicale dédié à l'éducation des jeunes chanteurs. 
                                    L'École maîtrisienne offre un cursus complet alliant technique vocale, 
                                    formation musicale théorique et pratique d'ensemble, préparant les 
                                    futurs musiciens à l'excellence.
                                </p>
                                
                                <div class="ensemble-stats">
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">35</span>
                                        <span class="ensemble-stat-label">Élèves</span>
                                    </div>
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">6-18</span>
                                        <span class="ensemble-stat-label">Ans</span>
                                    </div>
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">3</span>
                                        <span class="ensemble-stat-label">Niveaux</span>
                                    </div>
                                </div>

                                <div class="ensemble-links">
                                    <a href="#" class="ensemble-link">
                                        <i class="fas fa-graduation-cap" aria-hidden="true"></i>
                                        <span>Programme</span>
                                    </a>
                                    <a href="#" class="ensemble-link">
                                        <i class="fas fa-user-plus" aria-hidden="true"></i>
                                        <span>Inscriptions</span>
                                    </a>
                                </div>
                            </div>
                            <div class="ensemble-image slide-in-right">
                                <img src="images/optimized/maitrise-enseignement-1000.jpg" 
                                     alt="École maîtrisienne - Formation des jeunes chanteurs" 
                                     style="width: 100%; height: 100%; object-fit: cover; border-radius: var(--radius-xl);" 
                                     loading="lazy">
                            </div>
                        </div>
                    </article>

                    <!-- Ad Astra Ensemble -->
                    <article class="ensemble-card fade-in">
                        <div class="ensemble-content">
                            <div class="ensemble-info slide-in-left">
                                <div class="ensemble-category">Projet Spécial</div>
                                <h3>Ensemble Ad Astra</h3>
                                <p class="ensemble-description">
                                    Projet musical temporaire créé en 2023, dédié à l'exploration 
                                    de répertoires spécifiques et à l'expérimentation musicale. 
                                    Ad Astra rassemble des musiciens de haut niveau pour des projets 
                                    ponctuels à forte dimension artistique et innovante.
                                </p>
                                
                                <div class="ensemble-stats">
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">12</span>
                                        <span class="ensemble-stat-label">Musiciens</span>
                                    </div>
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">2023</span>
                                        <span class="ensemble-stat-label">Création</span>
                                    </div>
                                    <div class="ensemble-stat">
                                        <span class="ensemble-stat-number">6</span>
                                        <span class="ensemble-stat-label">Concerts</span>
                                    </div>
                                </div>

                                <div class="ensemble-links">
                                    <a href="events.html" class="ensemble-link">
                                        <i class="fas fa-star" aria-hidden="true"></i>
                                        <span>Projets futurs</span>
                                    </a>
                                    <a href="about.html" class="ensemble-link">
                                        <i class="fas fa-info-circle" aria-hidden="true"></i>
                                        <span>Historique</span>
                                    </a>
                                </div>
                            </div>
                            <div class="ensemble-image slide-in-right">
                                <img src="images/optimized/portrait-direction-800.jpg" 
                                     alt="Ensemble Ad Astra - Direction artistique" 
                                     style="width: 100%; height: 100%; object-fit: cover; border-radius: var(--radius-xl);" 
                                     loading="lazy">
                            </div>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <!-- Collaborations Section -->
        <section class="section section-alt fade-up-element" aria-labelledby="collaborations-title">
            <div class="container">
                <header class="section-header">
                    <h2 class="section-title text-balance" id="collaborations-title">Collaborations</h2>
                    <p class="section-subtitle text-pretty">
                        Partenariats artistiques et collaborations régulières qui enrichissent et diversifient l'expérience musicale
                    </p>
                </header>

                <div class="collaborations-grid">
                    <div class="collaboration-card fade-in">
                        <div class="collaboration-logo">
                            <i class="fas fa-music" aria-hidden="true"></i>
                        </div>
                        <h3 class="collaboration-name">Orchestre de Chambre de Lausanne</h3>
                        <div class="collaboration-type">Partenariat Musical</div>
                        <p class="collaboration-description">
                            Collaboration régulière pour les grandes œuvres chorales avec orchestre, 
                            notamment les cantates de Bach et les requiems classiques.
                        </p>
                    </div>

                    <div class="collaboration-card fade-in">
                        <div class="collaboration-logo">
                            <i class="fas fa-university" aria-hidden="true"></i>
                        </div>
                        <h3 class="collaboration-name">Conservatoire de Genève</h3>
                        <div class="collaboration-type">Formation & Échange</div>
                        <p class="collaboration-description">
                            Échanges pédagogiques et masterclasses pour la formation continue 
                            des jeunes musiciens et l'approfondissement du répertoire baroque.
                        </p>
                    </div>

                    <div class="collaboration-card fade-in">
                        <div class="collaboration-logo">
                            <i class="fas fa-broadcast-tower" aria-hidden="true"></i>
                        </div>
                        <h3 class="collaboration-name">RTS - Radio Télévision Suisse</h3>
                        <div class="collaboration-type">Média & Diffusion</div>
                        <p class="collaboration-description">
                            Production d'émissions musicales et retransmission de concerts, 
                            contribuant à la diffusion de la musique sacrée contemporaine.
                        </p>
                    </div>

                    <div class="collaboration-card fade-in">
                        <div class="collaboration-logo">
                            <i class="fas fa-globe-europe" aria-hidden="true"></i>
                        </div>
                        <h3 class="collaboration-name">Festival de Musique Sacrée</h3>
                        <div class="collaboration-type">Festival International</div>
                        <p class="collaboration-description">
                            Participation régulière aux festivals européens de musique sacrée, 
                            favorisant les échanges culturels et l'innovation artistique.
                        </p>
                    </div>

                    <div class="collaboration-card fade-in">
                        <div class="collaboration-logo">
                            <i class="fas fa-hands-helping" aria-hidden="true"></i>
                        </div>
                        <h3 class="collaboration-name">Ensemble Vocal de Fribourg</h3>
                        <div class="collaboration-type">Échange Artistique</div>
                        <p class="collaboration-description">
                            Projets communs et résidences artistiques pour l'exploration 
                            de nouveaux répertoires et techniques d'interprétation.
                        </p>
                    </div>

                    <div class="collaboration-card fade-in">
                        <div class="collaboration-logo">
                            <i class="fas fa-book-open" aria-hidden="true"></i>
                        </div>
                        <h3 class="collaboration-name">Éditions Musicales Suisses</h3>
                        <div class="collaboration-type">Publication</div>
                        <p class="collaboration-description">
                            Collaboration éditoriale pour la publication de partitions et 
                            la création de méthodes pédagogiques adaptées au contexte contemporain.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Timeline Section -->
        <section class="section fade-up-element" aria-labelledby="projects-title">
            <div class="container">
                <header class="section-header">
                    <h2 class="section-title text-balance" id="projects-title">Projets Récents</h2>
                    <p class="section-subtitle text-pretty">
                        Rétrospective des collaborations marquantes et projets artistiques d'envergure
                    </p>
                </header>

                <div class="projects-timeline">
                    <div class="timeline-item fade-in">
                        <div class="timeline-marker"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Décembre 2024</div>
                            <h3 class="timeline-title">Concert de Noël Exceptionnel</h3>
                            <p class="timeline-description">
                                Collaboration avec l'Orchestre Symphonique de Berne pour une interprétation 
                                du Magnificat de Bach avec la Maîtrise cathédrale. Un moment d'exception 
                                qui a rassemblé plus de 800 spectateurs dans la cathédrale de Sion.
                            </p>
                        </div>
                        <div class="timeline-image">
                            <img src="images/optimized/maitrise-noel-1000.jpg" 
                                 alt="Concert de Noël 2024 avec la Maîtrise" 
                                 style="width: 100%; height: 100%; object-fit: cover; border-radius: var(--radius-xl);" 
                                 loading="lazy">
                        </div>
                    </div>

                    <div class="timeline-item slide-in-left">
                        <div class="timeline-marker"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Octobre 2024</div>
                            <h3 class="timeline-title">Résidence Artistique Européenne</h3>
                            <p class="timeline-description">
                                Participation au programme de résidence du Festival International de 
                                Musique Sacrée de Cologne. Création d'une œuvre contemporaine en 
                                collaboration avec le compositeur Arvo Pärt et l'ensemble vocal estonien.
                            </p>
                        </div>
                        <div class="timeline-image">
                            <img src="images/optimized/ardito-residence-1000.jpg" 
                                 alt="Résidence artistique Cologne 2024" 
                                 style="width: 100%; height: 100%; object-fit: cover; border-radius: var(--radius-xl);" 
                                 loading="lazy">
                        </div>
                    </div>

                    <div class="timeline-item slide-in-right">
                        <div class="timeline-marker"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Juin 2024</div>
                            <h3 class="timeline-title">Enregistrement Studio</h3>
                            <p class="timeline-description">
                                Production du premier album du Chœur Oracantat, dédié aux compositeurs 
                                suisses contemporains. Enregistrement réalisé dans l'acoustique 
                                exceptionnelle de l'Abbaye de Saint-Maurice avec la collaboration 
                                technique de RTS.
                            </p>
                        </div>
                        <div class="timeline-image">
                            <img src="images/optimized/trio-studio-900.jpg" 
                                 alt="Session studio juin 2024 - Enregistrement" 
                                 style="width: 100%; height: 100%; object-fit: cover; border-radius: var(--radius-xl);" 
                                 loading="lazy">
                        </div>
                    </div>

                    <div class="timeline-item fade-in">
                        <div class="timeline-marker"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">Mars 2024</div>
                            <h3 class="timeline-title">Masterclass Internationale</h3>
                            <p class="timeline-description">
                                Organisation d'une masterclass de direction chorale accueillant 
                                15 chefs de chœur européens. Programme intensif de trois jours 
                                axé sur l'interprétation du répertoire grégorien et sa transmission 
                                aux nouvelles générations.
                            </p>
                        </div>
                        <div class="timeline-image">
                            <img src="images/optimized/maitrise-formation-1000.jpg" 
                                 alt="Masterclass internationale mars 2024" 
                                 style="width: 100%; height: 100%; object-fit: cover; border-radius: var(--radius-xl);" 
                                 loading="lazy">
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer-bottom">
                <p>
                    &copy; 2025 Jean-David Waeber. Tous droits réservés. | 
                    <a href="#mentions-legales" aria-label="Consulter les mentions légales">Mentions légales</a> | 
                    <a href="#politique-confidentialite" aria-label="Consulter la politique de confidentialité">Politique de confidentialité</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Scroll to top button -->
    <button class="scroll-to-top" id="scroll-to-top" aria-label="Retour en haut de page" style="position: fixed; bottom: var(--space-8); right: var(--space-8); width: 48px; height: 48px; background: var(--brand-primary); color: var(--text-inverse); border: none; border-radius: 50%; cursor: pointer; font-size: var(--text-lg); transition: all var(--duration-normal) var(--ease-out); z-index: var(--z-banner); opacity: 0; visibility: hidden; transform: translateY(20px) scale(0.8); box-shadow: var(--shadow-lg);">
        <i class="fas fa-chevron-up" aria-hidden="true"></i>
    </button>

    <script>
        /**
         * ENSEMBLES PAGE ARCHITECTURE - JEAN-DAVID WAEBER
         * Performance-first, accessibility-compliant
         */
        
        class EnsemblesPageHandler {
            constructor() {
                this.navbar = document.querySelector('.navbar');
                this.navToggle = document.getElementById('nav-toggle');
                this.navMenu = document.getElementById('nav-menu');
                this.scrollToTopBtn = document.getElementById('scroll-to-top');
                
                this.state = {
                    isMenuOpen: false,
                    reducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)').matches
                };
                
                this.init();
            }

            init() {
                this.setupNavigation();
                this.setupScrollEffects();
                this.setupAnimations();
                this.setupInteractiveElements();
            }

            setupNavigation() {
                if (this.navToggle && this.navMenu) {
                    this.navToggle.addEventListener('click', this.handleMenuToggle.bind(this));
                    
                    document.addEventListener('click', (e) => {
                        if (this.state.isMenuOpen && !this.navToggle.contains(e.target) && !this.navMenu.contains(e.target)) {
                            this.closeMenu();
                        }
                    });

                    document.addEventListener('keydown', (e) => {
                        if (e.key === 'Escape' && this.state.isMenuOpen) {
                            this.closeMenu();
                            this.navToggle.focus();
                        }
                    });
                }

                window.addEventListener('scroll', () => {
                    if (this.navbar) {
                        if (window.scrollY > 50) {
                            this.navbar.classList.add('scrolled');
                        } else {
                            this.navbar.classList.remove('scrolled');
                        }
                    }
                }, { passive: true });
            }

            handleMenuToggle(e) {
                e.preventDefault();
                this.state.isMenuOpen = !this.state.isMenuOpen;
                
                this.navMenu.classList.toggle('active', this.state.isMenuOpen);
                this.navToggle.setAttribute('aria-expanded', this.state.isMenuOpen);
                document.body.style.overflow = this.state.isMenuOpen ? 'hidden' : '';
                
                const icon = this.navToggle.querySelector('i');
                if (icon) {
                    icon.className = this.state.isMenuOpen ? 'fas fa-times' : 'fas fa-bars';
                }
            }

            closeMenu() {
                this.state.isMenuOpen = false;
                this.navMenu.classList.remove('active');
                this.navToggle.setAttribute('aria-expanded', 'false');
                document.body.style.overflow = '';
                
                const icon = this.navToggle.querySelector('i');
                if (icon) {
                    icon.className = 'fas fa-bars';
                }
            }

            setupScrollEffects() {
                if (this.scrollToTopBtn) {
                    this.scrollToTopBtn.addEventListener('click', () => {
                        window.scrollTo({
                            top: 0,
                            behavior: this.state.reducedMotion ? 'auto' : 'smooth'
                        });
                    });

                    window.addEventListener('scroll', () => {
                        if (window.scrollY > 300) {
                            this.scrollToTopBtn.style.opacity = '1';
                            this.scrollToTopBtn.style.visibility = 'visible';
                            this.scrollToTopBtn.style.transform = 'translateY(0) scale(1)';
                        } else {
                            this.scrollToTopBtn.style.opacity = '0';
                            this.scrollToTopBtn.style.visibility = 'hidden';
                            this.scrollToTopBtn.style.transform = 'translateY(20px) scale(0.8)';
                        }
                    }, { passive: true });
                }
            }

            setupAnimations() {
                if (this.state.reducedMotion) {
                    document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right').forEach(el => {
                        el.classList.add('visible');
                    });
                    return;
                }

                if ('IntersectionObserver' in window) {
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach((entry, index) => {
                            if (entry.isIntersecting) {
                                setTimeout(() => {
                                    entry.target.classList.add('visible');
                                }, index * 200);
                                observer.unobserve(entry.target);
                            }
                        });
                    }, { 
                        threshold: 0.1, 
                        rootMargin: '0px 0px -50px 0px' 
                    });

                    document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right').forEach(el => {
                        observer.observe(el);
                    });
                } else {
                    document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right').forEach(el => {
                        el.classList.add('visible');
                    });
                }
            }

            setupInteractiveElements() {
                // Enhanced ensemble card interactions
                const ensembleCards = document.querySelectorAll('.ensemble-card');
                ensembleCards.forEach(card => {
                    card.addEventListener('mouseenter', () => {
                        if (!this.state.reducedMotion) {
                            card.style.willChange = 'transform';
                        }
                    });

                    card.addEventListener('mouseleave', () => {
                        card.style.willChange = 'auto';
                    });

                    // Add keyboard navigation for ensemble links
                    const links = card.querySelectorAll('.ensemble-link');
                    links.forEach(link => {
                        link.addEventListener('click', (e) => {
                            e.preventDefault();
                            this.handleEnsembleAction(link, card);
                        });
                    });
                });

                // Collaboration cards interaction
                const collaborationCards = document.querySelectorAll('.collaboration-card');
                collaborationCards.forEach(card => {
                    card.addEventListener('click', () => {
                        this.highlightCollaboration(card);
                    });

                    card.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            this.highlightCollaboration(card);
                        }
                    });
                });

                // Timeline items progressive reveal
                this.setupTimelineReveal();

                // Statistics counter animation
                this.setupStatisticsAnimation();
            }

            handleEnsembleAction(link, card) {
                const action = link.textContent.trim();
                const ensembleName = card.querySelector('h3').textContent;
                
                // Visual feedback
                link.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    link.style.transform = '';
                }, 150);

                // Show feedback toast
                this.showActionToast(`${action} pour ${ensembleName}`);

                // Here you would normally handle the actual action
                console.log(`Action: ${action} for ensemble: ${ensembleName}`);
            }

            highlightCollaboration(card) {
                // Remove highlight from other cards
                document.querySelectorAll('.collaboration-card').forEach(c => {
                    c.style.transform = '';
                    c.style.boxShadow = '';
                });

                // Highlight selected card
                card.style.transform = 'translateY(-8px) scale(1.02)';
                card.style.boxShadow = '0 12px 25px rgba(212, 175, 55, 0.2)';

                // Reset after delay
                setTimeout(() => {
                    card.style.transform = '';
                    card.style.boxShadow = '';
                }, 2000);
            }

            setupTimelineReveal() {
                const timelineItems = document.querySelectorAll('.timeline-item');
                
                if ('IntersectionObserver' in window && !this.state.reducedMotion) {
                    const timelineObserver = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                const marker = entry.target.querySelector('.timeline-marker');
                                if (marker) {
                                    marker.style.animation = 'pulse 1s ease-out';
                                }
                                timelineObserver.unobserve(entry.target);
                            }
                        });
                    }, { threshold: 0.5 });

                    timelineItems.forEach(item => {
                        timelineObserver.observe(item);
                    });
                }
            }

            setupStatisticsAnimation() {
                const stats = document.querySelectorAll('.ensemble-stat-number');
                
                if ('IntersectionObserver' in window && !this.state.reducedMotion) {
                    const statsObserver = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                this.animateNumber(entry.target);
                                statsObserver.unobserve(entry.target);
                            }
                        });
                    }, { threshold: 0.8 });

                    stats.forEach(stat => {
                        statsObserver.observe(stat);
                    });
                }
            }

            animateNumber(element) {
                const text = element.textContent;
                const hasPlus = text.includes('+');
                const number = parseInt(text.replace(/\D/g, ''));
                
                if (isNaN(number)) return;

                let current = 0;
                const increment = Math.ceil(number / 30);
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= number) {
                        current = number;
                        clearInterval(timer);
                    }
                    element.textContent = current + (hasPlus ? '+' : '');
                }, 50);
            }

            showActionToast(message) {
                const toast = document.createElement('div');
                toast.textContent = message;
                toast.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: var(--brand-primary);
                    color: var(--text-inverse);
                    padding: 1rem 2rem;
                    border-radius: 0.5rem;
                    font-size: 0.875rem;
                    font-weight: 500;
                    z-index: 10000;
                    opacity: 0;
                    transition: all 0.3s ease-out;
                    box-shadow: var(--shadow-lg);
                `;

                document.body.appendChild(toast);

                setTimeout(() => {
                    toast.style.opacity = '1';
                }, 100);

                setTimeout(() => {
                    toast.style.opacity = '0';
                    setTimeout(() => {
                        if (toast.parentNode) {
                            toast.parentNode.removeChild(toast);
                        }
                    }, 300);
                }, 2000);
            }
        }

        // Add pulse animation for timeline markers
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0% { 
                    transform: translate(-50%, -50%) scale(1); 
                    box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.7); 
                }
                70% { 
                    transform: translate(-50%, -50%) scale(1.2); 
                    box-shadow: 0 0 0 10px rgba(212, 175, 55, 0); 
                }
                100% { 
                    transform: translate(-50%, -50%) scale(1); 
                    box-shadow: 0 0 0 0 rgba(212, 175, 55, 0); 
                }
            }
        `;
        document.head.appendChild(style);

        document.addEventListener('DOMContentLoaded', () => {
            new EnsemblesPageHandler();
        });
    </script>
    <script src="assets/js/scroll-animations.js"></script>
</body>
</html>